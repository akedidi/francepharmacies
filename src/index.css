@tailwind base;
@tailwind components;
@tailwind utilities;

/* Optimisations pour les appareils tactiles */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overscroll-behavior: none;
  }
  
  /* Support pour les écrans haute densité */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    body {
      font-weight: 400;
    }
  }
  
  /* Optimisations pour iOS Safari */
  @supports (-webkit-touch-callout: none) {
    body {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }
    
    input, textarea, button {
      -webkit-user-select: auto;
      user-select: auto;
    }
  }
  
  /* Support pour les tablettes en mode paysage */
  @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
    .tablet-landscape-optimized {
      padding: 1rem;
    }
  }
  
  /* Support pour les grandes tablettes (iPad Pro) */
  @media (min-width: 1024px) and (max-width: 1366px) {
    .large-tablet-optimized {
      max-width: 1200px;
      margin: 0 auto;
    }
  }
  
  /* Support pour les écrans pliables */
  @media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {
    .foldable-portrait {
      padding: 2rem 1rem;
    }
  }
  
  /* Amélioration des performances de scroll */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Support pour les gestes de navigation */
  .swipe-area {
    touch-action: pan-x pan-y;
  }
}

/* Classes utilitaires pour mobile/tablette */
@layer utilities {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
  
  /* Optimisation pour les interactions tactiles */
  .touch-optimized {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Support pour les écrans pliables */
  @media (spanning: single-fold-vertical) {
    .fold-aware {
      flex-direction: column;
    }
  }
  
  /* Support pour les tablettes Android */
  @media (min-width: 600dp) {
    .android-tablet {
      padding: 24dp;
    }
  }
  
  /* Support pour les iPad en mode Split View */
  @media (min-width: 320px) and (max-width: 768px) {
    .ipad-split-view {
      font-size: 14px;
    }
  }
}